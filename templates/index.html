{% extends "base.html" %} {% block title %}{% if q %}Results for “{{ q }}” · {{
BRAND }}{% else %}Discover · {{ BRAND }}{% endif %}{% endblock %} {% block
content %} {% if q %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <div class="small text-secondary">
    Found <strong>{{ count or 0 }}</strong> item{{ '' if (count or 0)==1 else
    's' }} for “{{ q }}”.
  </div>
  <a class="btn btn-outline-primary btn-sm" href="{{ url_for('index') }}"
    >Clear</a
  >
</div>
{% endif %}

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
  {% for it in items %}
  <div class="col">
    <div class="card h-100 overflow-hidden">
      <img
        class="item-img"
        src="https://picsum.photos/seed/{{ it.id }}/600/400"
        alt="{{ it.title }}"
        data-fallback="{{ url_for('static', filename='placeholder.jpg') }}"
        onerror="this.onerror=null; this.src=this.dataset.fallback;"
      />
      <div class="card-body">
        <h5 class="card-title mb-1">{{ it.title }}</h5>
        <div class="small text-secondary mb-2">
          {{ it.class_name }} · {{ it.department_name }}
        </div>
        <p class="card-text small mb-3">
          {{ (it.description or '')[:140] }}{% if (it.description or '')|length
          > 140 %}…{% endif %}
        </p>
        <a
          class="btn btn-outline-primary btn-sm"
          href="{{ url_for('item_detail', item_id=it.id) }}"
        >
          View details
        </a>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

{% if not items %}
<div class="text-secondary mt-4">
  No items matched. Try broader keywords like “dress”, “jeans”, or “tops”.
</div>
{% endif %} {% endblock %}
